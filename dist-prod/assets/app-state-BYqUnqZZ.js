import{r,j as O}from"./react-core-BkWm3PEK.js";import{G as K,e as ee,w as te,Q as ne,j as ae,S as ie}from"./vendor-BCXCGp0y.js";import{a as T}from"./app-utils-DUdYqpyN.js";import"./components-core-CvQykMXU.js";const q=r.createContext(null),A={Hot:{leadTier:"Hot",messaging:{heroTitle:"Ready to Transform Your Marketing? Let's Talk Today.",heroSubtitle:"High-growth companies need strategic marketing leadership. Get your custom growth plan in 24 hours.",ctaText:"Schedule Strategy Call Now",urgencyMessage:"âš¡ Priority Response: We'll contact you within 1 hour",socialProof:"Join 200+ companies already accelerating growth"},pricing:{showDiscount:!0,emphasizeValue:!0,highlightSavings:!0,customMessage:"Enterprise pricing available - significant savings for qualified companies"},content:{testimonials:["enterprise_success","fast_results","roi_focused"],caseStudies:["enterprise_transformation","rapid_scale"],features:["strategic_leadership","executive_support","rapid_implementation"]}},Warm:{leadTier:"Warm",messaging:{heroTitle:"Scale Your Marketing with Expert CMO Guidance",heroSubtitle:"Growth-stage companies trust us to build marketing systems that deliver consistent results.",ctaText:"Get My Growth Strategy",socialProof:"Trusted by 200+ growing companies"},pricing:{showDiscount:!1,emphasizeValue:!0,highlightSavings:!1},content:{testimonials:["growth_success","system_building","team_development"],caseStudies:["growth_acceleration","system_optimization"],features:["strategic_planning","team_coaching","system_building"]}},Cold:{leadTier:"Cold",messaging:{heroTitle:"Build Marketing That Actually Drives Growth",heroSubtitle:"Stop wasting money on marketing that doesn't work. Get a proven system that delivers results.",ctaText:"Learn More",socialProof:"Used by companies at every growth stage"},pricing:{showDiscount:!1,emphasizeValue:!0,highlightSavings:!1},content:{testimonials:["foundational_success","problem_solving","education"],caseStudies:["foundation_building","problem_diagnosis"],features:["strategic_foundation","problem_diagnosis","education"]}},Unqualified:{leadTier:"Unqualified",messaging:{heroTitle:"Marketing Insights for Growing Businesses",heroSubtitle:"Learn proven strategies used by successful companies to build sustainable growth.",ctaText:"Get Free Resources",socialProof:"Join thousands learning marketing strategy"},pricing:{showDiscount:!1,emphasizeValue:!1,highlightSavings:!1},content:{testimonials:["educational","inspiration","accessibility"],caseStudies:["educational_content","inspiration"],features:["educational_resources","foundational_guidance","community_access"]}}},L={delay:500,maxShows:2,leadTierSpecific:{Hot:{title:"Wait! Let's Schedule Your Strategy Call",message:"You're clearly ready for growth. Don't leave without booking your priority consultation.",offer:"Free 30-minute strategy session + custom growth plan",ctaText:"Book My Priority Call"},Warm:{title:"Before You Go - Get Your Free Growth Audit",message:"We can show you exactly what's holding back your marketing.",offer:"Free marketing audit + recommendations (normally $2,500)",ctaText:"Get My Free Audit"},Cold:{title:"Get Our Marketing Success Framework",message:"Download our proven framework used by 200+ companies.",offer:"Free Marketing Growth Framework + Templates",ctaText:"Download Free Framework"},Unqualified:{title:"Stay Updated with Marketing Insights",message:"Get weekly insights on marketing strategy and growth.",offer:"Join our marketing insights newsletter",ctaText:"Get Weekly Insights"}}},re=[{id:"page_view",name:"Page View",description:"Visitor viewed the page",completed:!1},{id:"engagement",name:"Content Engagement",description:"Engaged with content for 30+ seconds",completed:!1},{id:"pricing_view",name:"Pricing View",description:"Viewed pricing information",completed:!1},{id:"form_start",name:"Form Started",description:"Started lead form",completed:!1},{id:"form_complete",name:"Form Completed",description:"Completed lead form",completed:!1},{id:"conversion",name:"Conversion",description:"Completed primary conversion action",completed:!1}],he=({children:n})=>{const[t,i]=r.useState(null),[e,l]=r.useState(null),[d,h]=r.useState(A.Unqualified);r.useEffect(()=>{(()=>{const s=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,o=localStorage.getItem("ab_test_user_id")||`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,g={id:s,userId:o,startTime:new Date,pageViews:[window.location.pathname],interactions:[],behavioralData:{pageViews:1,timeOnSite:0,contentEngagement:[],formAbandonment:!1,returnVisit:localStorage.getItem(`visited_${o}`)!==null,referralSource:document.referrer||"direct",deviceType:f(),scrollDepth:0,interactions:[]},conversionFunnel:re.map(m=>m.id==="page_view"?{...m,completed:!0,timestamp:new Date}:{...m}),personalization:A.Unqualified,exitIntentShown:0,conversions:[]};localStorage.setItem(`visited_${o}`,"true"),i(g)})()},[]),r.useEffect(()=>{const a=setInterval(()=>{t&&i(s=>s?{...s,behavioralData:{...s.behavioralData,timeOnSite:(Date.now()-s.startTime.getTime())/1e3}}:null)},5e3);return()=>clearInterval(a)},[t]),r.useEffect(()=>{let a;const s=g=>{g.clientY<=0&&R()&&(a=setTimeout(()=>{V()},L.delay))},o=()=>{a&&clearTimeout(a)};return document.addEventListener("mouseleave",s),document.addEventListener("mouseenter",o),()=>{document.removeEventListener("mouseleave",s),document.removeEventListener("mouseenter",o),a&&clearTimeout(a)}},[t]);const f=()=>{const a=window.innerWidth;return a<=768?"mobile":a<=1024?"tablet":"desktop"},_=r.useCallback(a=>{const s={...a,timestamp:new Date};i(o=>{if(!o)return null;const g={...o,interactions:[...o.interactions,s],behavioralData:{...o.behavioralData,interactions:[...o.behavioralData.interactions,s]}};return g.behavioralData.timeOnSite>=30&&!g.conversionFunnel.find(m=>m.id==="engagement")?.completed&&(g.conversionFunnel=g.conversionFunnel.map(m=>m.id==="engagement"?{...m,completed:!0,timestamp:new Date}:m)),g})},[]),p=r.useCallback(a=>{i(s=>s?{...s,pageViews:[...s.pageViews,a],behavioralData:{...s.behavioralData,pageViews:s.behavioralData.pageViews+1,contentEngagement:[...s.behavioralData.contentEngagement,a]}}:null)},[]),S=r.useCallback(a=>{i(s=>s?{...s,behavioralData:{...s.behavioralData,scrollDepth:Math.max(s.behavioralData.scrollDepth,a)}}:null)},[]),E=r.useCallback((a,s)=>{const o={type:"form_abandon",element:a,value:s,metadata:{abandonedAt:s},timestamp:new Date};i(g=>g?{...g,interactions:[...g.interactions,o],behavioralData:{...g.behavioralData,formAbandonment:!0,interactions:[...g.behavioralData.interactions,o]}}:null)},[]),k=r.useCallback((a,s=0,o)=>{const g={id:`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:a,timestamp:new Date,value:s,metadata:o};i(m=>{if(!m)return null;let w=m.conversionFunnel;return a==="form_submission"&&(w=w.map(b=>b.id==="form_complete"||b.id==="conversion"?{...b,completed:!0,timestamp:new Date,value:s}:b)),{...m,conversions:[...m.conversions,g],conversionFunnel:w}})},[]),u=r.useCallback((a,s,o,g)=>{i(m=>m?{...m,conversionFunnel:m.conversionFunnel.map(w=>w.id===a?{...w,completed:s,timestamp:s?new Date:w.timestamp,value:o,metadata:g}:w)}:null)},[]),v=r.useCallback(a=>{l(a),h(A[a.tier]),i(s=>s?{...s,leadScore:a,personalization:A[a.tier]}:null)},[]),y=r.useCallback(a=>d.content[a]||null,[d]),I=r.useCallback(a=>d.messaging[a]||"",[d]),V=r.useCallback(()=>{R()&&(i(a=>a?{...a,exitIntentShown:a.exitIntentShown+1}:null),window.dispatchEvent(new CustomEvent("showExitIntent",{detail:{config:L.leadTierSpecific[e?.tier||"Unqualified"],leadTier:e?.tier||"Unqualified"}})))},[e,t]),G=r.useCallback(()=>{window.dispatchEvent(new CustomEvent("dismissExitIntent"))},[]),R=r.useCallback(()=>t?t.exitIntentShown<L.maxShows:!1,[t]),z=r.useCallback(()=>t?.conversionFunnel||[],[t]),N=r.useCallback(()=>t?.behavioralData||{pageViews:0,timeOnSite:0,contentEngagement:[],formAbandonment:!1,returnVisit:!1,referralSource:"unknown",deviceType:"desktop",scrollDepth:0,interactions:[]},[t]),U=r.useCallback(()=>t?(Date.now()-t.startTime.getTime())/1e3:0,[t]),$=r.useCallback(()=>!!(e?.tier==="Hot"||e?.intent&&e.intent>=75),[e]),W=r.useCallback(()=>d.messaging.ctaText,[d]),P=r.useCallback(()=>e?.recommendedAction||"Learn more about our services",[e]);if(!t)return null;const c={session:t,leadScore:e,personalization:d,trackInteraction:_,trackPageView:p,trackScrollDepth:S,trackFormAbandonment:E,trackConversion:k,updateFunnelStep:u,updateLeadScore:v,getPersonalizedContent:y,getTierSpecificMessage:I,showExitIntent:V,dismissExitIntent:G,isExitIntentEligible:R,getConversionFunnelData:z,getBehavioralInsights:N,getSessionDuration:U,shouldShowUrgency:$,getOptimalCTAText:W,getRecommendedNextAction:P};return O.jsx(q.Provider,{value:c,children:n})},D=()=>{const n=r.useContext(q);if(!n)throw new Error("useConversionOptimization must be used within a ConversionOptimizationProvider");return n},Y=r.createContext(null),se=[{id:"hero_cta_test",name:"Hero CTA Button Text",description:"Testing different hero CTA button text for conversion optimization",variants:[{id:"control",name:"Get Free Analysis",weight:50,config:{text:"Get Free Analysis"}},{id:"variant_a",name:"Unlock Growth Strategy",weight:25,config:{text:"Unlock Growth Strategy"}},{id:"variant_b",name:"Get My Custom Plan",weight:25,config:{text:"Get My Custom Plan"}}],status:"running",trafficSplit:[50,25,25],conversionGoals:["form_submission","email_signup"],startDate:new Date,metrics:{participants:0,conversions:{},conversionRate:{},statisticalSignificance:{},confidence:{}}},{id:"pricing_display_test",name:"Pricing Display Strategy",description:"Testing different pricing presentation approaches",variants:[{id:"control",name:"Standard Pricing",weight:50,config:{style:"standard"}},{id:"variant_a",name:"Value-First Pricing",weight:50,config:{style:"value_first"}}],status:"running",trafficSplit:[50,50],conversionGoals:["pricing_engagement","form_submission"],startDate:new Date,metrics:{participants:0,conversions:{},conversionRate:{},statisticalSignificance:{},confidence:{}}},{id:"form_optimization_test",name:"Lead Form Optimization",description:"Testing progressive form disclosure vs standard form",variants:[{id:"control",name:"Standard Form",weight:50,config:{style:"standard"}},{id:"variant_a",name:"Progressive Form",weight:50,config:{style:"progressive"}}],status:"running",trafficSplit:[50,50],conversionGoals:["form_completion","form_submission"],targetAudience:{userType:["new"],deviceType:["desktop","mobile"]},startDate:new Date,metrics:{participants:0,conversions:{},conversionRate:{},statisticalSignificance:{},confidence:{}}}],ve=({children:n})=>{const[t,i]=r.useState(se),[e,l]=r.useState({userId:"",assignments:{},createdAt:new Date}),[d,h]=r.useState("");r.useEffect(()=>{(()=>{let a=localStorage.getItem("ab_test_user_id");a||(a=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,localStorage.setItem("ab_test_user_id",a)),h(a);const s=localStorage.getItem(`ab_assignments_${a}`);if(s)try{const o=JSON.parse(s);l(o)}catch(o){console.error("Failed to parse stored A/B test assignments:",o)}else l({userId:a,assignments:{},createdAt:new Date})})()},[]),r.useEffect(()=>{d&&e.assignments&&localStorage.setItem(`ab_assignments_${d}`,JSON.stringify(e))},[d,e]);const f=(c,a)=>{const s=`${c}_${a}`;let o=0;for(let g=0;g<s.length;g++){const m=s.charCodeAt(g);o=(o<<5)-o+m,o=o&o}return Math.abs(o)},_=c=>{if(e.assignments[c.id])return e.assignments[c.id];c.targetAudience;const s=f(d,c.id)%100;let o=0;for(let g=0;g<c.variants.length;g++)if(o+=c.trafficSplit[g],s<o){const m=c.variants[g].id;return l(w=>({...w,assignments:{...w.assignments,[c.id]:m}})),p(c.id),m}return c.variants[0].id},p=(c,a)=>{i(s=>s.map(o=>o.id===c?{...o,metrics:{...o.metrics,participants:o.metrics.participants+1}}:o))},S=c=>{const a=t.find(s=>s.id===c);return!a||a.status!=="running"?null:_(a)},E=(c,a,s)=>{const o=e.assignments[c];o&&(i(g=>g.map(m=>{if(m.id===c){const w={...m.metrics.conversions,[o]:(m.metrics.conversions[o]||0)+1},b=Object.values(e.assignments).filter(x=>x===o).length,C=b>0?w[o]/b*100:0;return{...m,metrics:{...m.metrics,conversions:w,conversionRate:{...m.metrics.conversionRate,[o]:C}}}}return m})),typeof window<"u"&&window.gtag&&window.gtag("event","ab_test_conversion",{test_id:c,variant_id:o,event_type:a,value:s||0}))},k=(c,a)=>{const s=t.find(Z=>Z.id===c);if(!s)return 0;const o=s.variants[0];if(a===o.id)return 0;const g=s.metrics.conversions[o.id]||0,m=s.metrics.conversions[a]||0,w=100,b=100,C=g/w,x=m/b,B=(g+m)/(w+b),H=Math.sqrt(B*(1-B)*(1/w+1/b));if(H===0)return 0;const Q=Math.abs(x-C)/H;return 2*(1-u(Math.abs(Q)))},u=c=>.5*(1+v(c/Math.sqrt(2))),v=c=>{const a=.254829592,s=-.284496736,o=1.421413741,g=-1.453152027,m=1.061405429,w=.3275911,b=c>=0?1:-1;c=Math.abs(c);const C=1/(1+w*c),x=1-((((m*C+g)*C+o)*C+s)*C+a)*C*Math.exp(-c*c);return b*x},y=c=>{const a={...c,id:`test_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,metrics:{participants:0,conversions:{},conversionRate:{},statisticalSignificance:{},confidence:{}}};i(s=>[...s,a])},I=(c,a)=>{i(s=>s.map(o=>o.id===c?{...o,...a}:o))},P={activeTests:t,userAssignments:e,getVariant:S,trackConversion:E,createTest:y,updateTest:I,startTest:c=>{I(c,{status:"running",startDate:new Date})},pauseTest:c=>{I(c,{status:"paused"})},stopTest:c=>{I(c,{status:"completed",endDate:new Date})},getTestResults:c=>{const a=t.find(s=>s.id===c);return a?a.metrics:null},getConversionRate:(c,a)=>t.find(o=>o.id===c)?.metrics.conversionRate[a]||0,isStatisticallySignificant:(c,a)=>k(c,a)<.05,isUserInTest:c=>!!e.assignments[c],getUserId:()=>d};return O.jsx(Y.Provider,{value:P,children:n})},j=()=>{const n=r.useContext(Y);if(!n)throw new Error("useABTest must be used within an ABTestProvider");return n},M=n=>{const{getVariant:t,trackConversion:i,isUserInTest:e}=j(),l=t(n),d=(h,f)=>{i(n,h,f)};return{variant:l,isInTest:e(n),track:d}},we=(n="hero_cta_test")=>{const{variant:t,track:i,isInTest:e}=M(n),{getOptimalCTAText:l,trackInteraction:d}=D(),h=r.useCallback(()=>!e||!t?l():{control:"Get Free Analysis",variant_a:"Unlock Growth Strategy",variant_b:"Get My Custom Plan"}[t]||l(),[t,e,l]),f=r.useCallback(p=>{d({type:"click",element:`cta_button_${p}`,value:t||"default",metadata:{testId:n,location:p}}),i("cta_click",1)},[i,d,t,n]),_=r.useCallback(p=>{d({type:"cta_view",element:`cta_button_${p}`,value:t||"default",metadata:{testId:n,location:p}})},[d,t,n]);return{ctaText:h(),variant:t,isInTest:e,trackClick:f,trackView:_}},_e=(n="pricing_display_test")=>{const{variant:t,track:i,isInTest:e}=M(n),{personalization:l,trackInteraction:d}=D(),h=r.useCallback(()=>!e||!t?"standard":t==="variant_a"?"value_first":"standard",[t,e]),f=r.useCallback(()=>h()==="value_first"||l.pricing.highlightSavings,[h,l]),_=r.useCallback(()=>h()==="value_first"||l.pricing.emphasizeValue,[h,l]),p=r.useCallback((S,E)=>{d({type:"click",element:`pricing_${S}`,value:E,metadata:{testId:n,variant:t,action:S}}),i("pricing_engagement",1)},[i,d,t,n]);return{pricingStyle:h(),variant:t,isInTest:e,shouldShowSavings:f(),shouldEmphasizeValue:_(),trackEngagement:p}},be=(n="form_optimization_test")=>{const{variant:t,track:i,isInTest:e}=M(n),{trackInteraction:l,updateFunnelStep:d,trackFormAbandonment:h}=D(),f=r.useRef(null),_=r.useCallback(()=>!e||!t?"standard":t==="variant_a"?"progressive":"standard",[t,e]),p=r.useCallback(()=>{f.current=new Date,d("form_start",!0),l({type:"form_focus",element:"lead_form",metadata:{testId:n,variant:t}}),i("form_start",1)},[i,l,d,t,n]),S=r.useCallback((u,v)=>{l({type:"form_focus",element:`form_step_${u}`,value:v,metadata:{testId:n,variant:t,stepNumber:u}})},[l,t,n]),E=r.useCallback((u,v)=>{const y=f.current?Date.now()-f.current.getTime():0;h(`form_step_${u}`,v),i("form_abandon",y/1e3)},[h,i]),k=r.useCallback(u=>{d("form_complete",!0,u),l({type:"form_focus",element:"form_complete",value:u,metadata:{testId:n,variant:t,completionTime:u}}),i("form_completion",u)},[i,l,d,t,n]);return{formStyle:_(),variant:t,isInTest:e,trackFormStart:p,trackFormStep:S,trackAbandonment:E,trackCompletion:k}},Se=()=>{const{leadScore:n,isExitIntentEligible:t}=D(),{trackConversion:i}=j();return r.useEffect(()=>{const e=d=>{const{config:h,leadTier:f}=d.detail;i("exit_intent_test","exit_intent_shown",1)},l=()=>{i("exit_intent_test","exit_intent_dismissed",1)};return window.addEventListener("showExitIntent",e),window.addEventListener("dismissExitIntent",l),()=>{window.removeEventListener("showExitIntent",e),window.removeEventListener("dismissExitIntent",l)}},[i]),{isEligible:t(),leadTier:n?.tier||"Unqualified"}},ye=()=>{const{trackScrollDepth:n,trackInteraction:t}=D(),i=r.useRef(new Set);return r.useEffect(()=>{const l=oe(()=>{const d=window.pageYOffset,h=document.documentElement.scrollHeight-window.innerHeight,f=Math.round(d/h*100);[25,50,75,90].forEach(p=>{f>=p&&!i.current.has(p)&&(i.current.add(p),n(f),t({type:"scroll",element:"page",value:p,metadata:{scrollPercent:f,milestone:p}}))})},100);return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[n,t]),{milestones:Array.from(i.current)}},Ee=()=>{const{trackInteraction:n}=D(),t=r.useRef(new Set);return r.useEffect(()=>{[30,60,120,300].forEach(e=>{const l=setTimeout(()=>{t.current.has(e)||(t.current.add(e),n({type:"scroll",element:"time_milestone",value:e,metadata:{type:"time_engagement",seconds:e}}))},e*1e3);return()=>clearTimeout(l)})},[n]),{engagementMilestones:Array.from(t.current)}},Ce=()=>{const{trackInteraction:n}=D();r.useEffect(()=>{const t=i=>{const e=i.target,l=e.getBoundingClientRect();n({type:"click",element:e.tagName.toLowerCase(),metadata:{x:i.clientX,y:i.clientY,elementX:l.left,elementY:l.top,elementWidth:l.width,elementHeight:l.height,className:e.className,id:e.id,textContent:e.textContent?.substring(0,100)}})};return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[n])},oe=(n,t)=>{let i,e=0;return function(...l){const d=Date.now();d-e>t?(n(...l),e=d):(clearTimeout(i),i=setTimeout(()=>{n(...l),e=Date.now()},t-(d-e)))}},J=r.createContext(void 0),ke=({children:n})=>{const[t,i]=r.useState(!1);return O.jsx(J.Provider,{value:{showDropdownForm:t,setShowDropdownForm:i},children:n})},Te=()=>{const n=r.useContext(J);if(!n)throw new Error("useLeadForm must be used within a LeadFormProvider");return n};function De(){r.useEffect(()=>{K(e=>{T.coreWebVital("lcp",e.value,e.rating)}),ee(e=>{T.coreWebVital("fid",e.value,e.rating)}),te(e=>{T.coreWebVital("cls",e.value,e.rating)}),ne(e=>{T.coreWebVital("ttfb",e.value,e.rating)}),ae(e=>{T.coreWebVital("inp",e.value,e.rating)}),ie(e=>{T.coreWebVital("fcp",e.value,e.rating)});let n=0;const t=new Set,i=()=>{const e=Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);e>n&&(n=e,[25,50,75,100].forEach(l=>{e>=l&&!t.has(l)&&(t.add(l),T.scrollDepth(l))}))};return window.addEventListener("scroll",i,{passive:!0}),()=>{window.removeEventListener("scroll",i)}},[])}const F=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),ce={errors:[],notifications:[],isReporting:!1,globalErrorCount:0},le=(n,t)=>{switch(t.type){case"ADD_ERROR":{const i={...t.payload,id:F(),timestamp:new Date,resolved:!1};return{...n,errors:[...n.errors,i],globalErrorCount:n.globalErrorCount+1}}case"RESOLVE_ERROR":return{...n,errors:n.errors.map(i=>i.id===t.payload.id?{...i,resolved:!0}:i)};case"CLEAR_ERRORS":return{...n,errors:[]};case"ADD_NOTIFICATION":{const i={...t.payload,id:F()};return{...n,notifications:[...n.notifications,i]}}case"REMOVE_NOTIFICATION":return{...n,notifications:n.notifications.filter(i=>i.id!==t.payload.id)};case"CLEAR_NOTIFICATIONS":return{...n,notifications:[]};case"SET_REPORTING":return{...n,isReporting:t.payload.isReporting};case"INCREMENT_GLOBAL_ERROR_COUNT":return{...n,globalErrorCount:n.globalErrorCount+1};default:return n}},X=r.createContext(null),Ie=({children:n,enableErrorReporting:t=!0})=>{const[i,e]=r.useReducer(le,ce),l=r.useCallback(u=>{const v=F();if(e({type:"ADD_ERROR",payload:u}),u.severity==="high"||u.severity==="critical"){const y=u.severity==="critical"?"Critical Error":"Error Occurred";f({title:y,message:u.message,type:"error",duration:u.severity==="critical"?0:5e3,actions:[{label:"Dismiss",action:()=>_(v),variant:"secondary"},{label:"Retry",action:()=>{window.location.reload()},variant:"primary"}]})}return v},[]),d=r.useCallback(u=>{e({type:"RESOLVE_ERROR",payload:{id:u}})},[]),h=r.useCallback(()=>{e({type:"CLEAR_ERRORS"})},[]),f=r.useCallback(u=>{const v=F();return e({type:"ADD_NOTIFICATION",payload:u}),u.duration&&u.duration>0&&setTimeout(()=>{_(v)},u.duration),v},[]),_=r.useCallback(u=>{e({type:"REMOVE_NOTIFICATION",payload:{id:u}})},[]),p=r.useCallback(()=>{e({type:"CLEAR_NOTIFICATIONS"})},[]),S=r.useCallback(async(u,v)=>{if(t){e({type:"SET_REPORTING",payload:{isReporting:!0}});try{const y={message:u.message,stack:u.stack,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent,context:v||{}};console.group("ðŸš¨ Reporting Error to External Service"),console.error("Error Data:",y),console.groupEnd(),l({message:u.message,severity:"high",source:"ErrorReporting",details:{context:v,stack:u.stack}})}catch(y){console.error("Failed to report error:",y),f({title:"Reporting Failed",message:"Unable to report error. Please try again or contact support.",type:"warning",duration:5e3})}finally{e({type:"SET_REPORTING",payload:{isReporting:!1}})}}},[t,l,f]),E=r.useCallback(()=>{const u={total:i.errors.length,bySource:{},bySeverity:{}};return i.errors.forEach(v=>{u.bySource[v.source]=(u.bySource[v.source]||0)+1,u.bySeverity[v.severity]=(u.bySeverity[v.severity]||0)+1}),u},[i.errors]),k={state:i,addError:l,resolveError:d,clearErrors:h,showNotification:f,hideNotification:_,clearNotifications:p,reportError:S,getErrorStats:E};return O.jsx(X.Provider,{value:k,children:n})},ue=()=>{const n=r.useContext(X);if(!n)throw new Error("useError must be used within an ErrorProvider");return n},xe=()=>{const{reportError:n}=ue();return r.useCallback((t,i)=>{const e={timestamp:new Date().toISOString(),url:window.location.href,pathname:window.location.pathname,userAgent:navigator.userAgent,...i};return n(t,e)},[n])};export{ve as A,he as C,Ie as E,ke as L,_e as a,we as b,Te as c,be as d,ue as e,Se as f,xe as g,ye as h,Ee as i,Ce as j,De as k,D as u};
